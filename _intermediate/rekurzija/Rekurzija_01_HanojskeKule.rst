
..
  3.0 Ханојске куле
  reading

Ханојске куле
=============

Француски математичар Едуард Лукас је 1883. године саставио загонетку
"Ханојске куле". Задатак је да се дискови који су наслагани на првом
штапу пребаце на трећи штап, при чему се други штап користи као
помоћни. При том је у сваком тренутку могуће пребацивати само један
диск (онај на врху) са једног штапа на други и није ни у једном
тренутку могуће да се већи диск нађе изнад мањег.

.. image:: ../../_images/rekurzija/Hanoi.jpeg
   :align: center

Ову игру је могуће играти интерактивно, на многим сајтовима широм
интернета (на пример, пробај да одиграш једну партију на сајту
https://www.mathsisfun.com/games/towerofhanoi.html).

Прикажимо моћ рекурзије тако што ћемо написати програм који исписује
низ корака потребних да се ова загонетка реши.

Разматримо следеће решење овог проблема. Нека се :math:`n` дискова
пребацује са полазног на долазни штап, коришћењем помоћног штапа.

.. image:: ../../_images/rekurzija/Hanoi0.jpg
   :align: center

Ако
постоји само један диск, директно ћемо га пребацити, без помоћног.
Ако постоји више од једног диска, тада пребацивање дискова можемо 
поделити у три фазе.

- У првој фази потребно је да пребацимо :math:`n-1` дискова са
  полазног на помоћни штап (коришћењем долазног штапа као помоћног).

.. image:: ../../_images/rekurzija/Hanoi1.jpg
   :align: center
  
- У другој фази ћемо пребацити диск са полазног на долазни штап.

.. image:: ../../_images/rekurzija/Hanoi2.jpg
   :align: center
  
- У трећој фази ћемо пребацити :math:`n-1` дискова са помоћног на
  долазни штап (коришћењем полазног као помоћног).

.. image:: ../../_images/rekurzija/Hanoi3.jpg
   :align: center
  
Поставља се питање како пребацити :math:`n-1` штап, међутим, можемо
приметити да је то проблем веома сличан полазном (само мало
једноставнији, јер је дискова мање) и можемо га решавати на потпуно
исти начин.

На основу реченог можемо дефинисати рекурзивну функцију `prebaci`,
чији су параметри број дискова, назив штапа са ког се врши пребацивање
дискова, назив помоћног штапа и назив штапа на који се врши
пребацивање дискова.

.. code-block:: csharp

   using System;
    
   class Program
   {
       static void Prebaci(int n, string sa, string pom, string na)
       {
           if (n > 0)
           {
               Prebaci(n-1, sa, na, pom);
               Console.WriteLine(sa + "->" + na);
               Prebaci(n-1, pom, sa, na);
           }
       }
       
       static void Main()
       {
           Prebaci(4, "levi", "srednji", "desni");
       }
   }

Детаљније објашњење проблема ханојских кула и овог програма можеш
погледати у наредном видео-снимку.

.. ytpopup:: S36Ou8T6gGs
      :width: 735
      :height: 415
      :align: center

   

Видимо да је суштина рекурзивног приступа решавању проблема то да се
проблем сведе на један или више потпроблема који су потпуно истог
облика као полазни, али су једноставнији. При том је потребно
обезбедити и излаз из рекурзије тако што ће се најједноставнији проблеми 
датог облика решити директно, без свођења на даље потпроблеме.

   
